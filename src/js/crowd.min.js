jQuery(document).ready((function($){const breakpoints_phone=576,breakpoints_tablet=768,breakpoints_laptop=992,breakpoints_desktop=1200,breakpoints_monitor=1400;function logit(out){console.log("> "+out)}gsap.registerPlugin(ScrollTrigger);var navMenu=$("#main-menu"),menuItem=$("#main-menu a"),menuItemPadding=$("#main-menu a").css("padding"),menuAutoClose,menuDisplayLong=2,menuButton=$("#menu-button"),menuItemMoveAmount=20,toggleMenu=()=>{navMenu.hasClass("active")?hideMenu():bringMenu()},hideMenu=_exceptActive=>{var activeItem="."+_exceptActive;menuAutoClose=setTimeout(()=>{TweenLite.to(menuItem,{duration:.5,opacity:0,marginTop:menuItemMoveAmount,stagger:.1,ease:"power3.inOut"}),navMenu.removeClass("active")},2e3)},bringMenu=where=>{"top"==where&&(menuItemMoveAmount=menuItemPadding),clearTimeout(menuAutoClose),TweenLite.to(menuItem,{duration:.5,opacity:1,marginTop:0,marginBottom:menuItemMoveAmount,stagger:.1,ease:"power3.inOut"}),navMenu.addClass("active"),$(window).width()};menuButton.on("click",bringMenu),setTimeout((function(){$(window).width()<breakpoints_phone&&bringMenu()}),1500),$("#logo a").click(()=>{var home=$("#logo a").attr("target-section");gsap.to(window,{duration:1,scrollTo:home,ease:"circ.inOut"})}),$(menuItem).each((function(){$(this).click(()=>{$("#main-menu a").removeClass("active"),$(this).addClass("active");var target=$(this).attr("target-section");gsap.to(window,{duration:1,scrollTo:target,ease:"circ.inOut"})})}));var firstDarkSection=$(".dark-background").eq(0),hideLogoWhenScrollOnPhone=ScrollTrigger.matchMedia({"(max-width: 576px)":function(){var timeOut=.5;gsap.to("#logo",{opacity:0,duration:.5,pointerEvents:"none",ease:"circ.Out",scrollTrigger:{start:"50px",toggleActions:"play none none reverse"}}).then((function(){gsap.to(["header","header .flex-wrapper"],{height:0,duration:0,delay:.5,scrollTrigger:{start:"50px",toggleActions:"play none none reverse"}})}))}}),goSticky=ScrollTrigger.matchMedia({"(min-width: 768px)":function(){let headerBar=$("header .flex-wrapper"),darkBg=firstDarkSection.css("background-color"),speed=.15,fdsTop=firstDarkSection.position().top;gsap.to(headerBar,{paddingTop:"1.125em",paddingBottom:"1.125em",height:"65px",ease:"expo.In",duration:.15,scrollTrigger:{start:"50px",toggleActions:"play none none reverse"}}),gsap.to("#logo .logo",{padding:"1.5em",ease:"expo.In",duration:.15,scrollTrigger:{start:"50px",toggleActions:"play none none reverse"}}),gsap.to(headerBar,{backgroundColor:"#f1e7de",ease:"expo.In",duration:.15,scrollTrigger:{start:"50px",end:fdsTop,toggleActions:"play none restart reverse"}}),gsap.to(headerBar,{backgroundColor:darkBg,ease:"expo.In",duration:.15,scrollTrigger:{trigger:firstDarkSection,id:"headerBar-darkBg",start:"top top",end:"top top",toggleActions:"play none none reset"}})}});function gra(min,max){return Math.random()*(max-min)+min}function parallaxIt(e,target,movement){var $this=target.parents(),relX=e.pageX-$this.offset().left,relY=e.pageY-$this.offset().top;TweenMax.to(target,2,{x:(relX-$this.width()/2)/$this.width()*movement,y:(relY-$this.height()/2)/$this.height()*movement})}gsap.to([menuItem,"#logo"],{filter:"invert(1) brightness(0.9)",color:"black",scrollTrigger:{trigger:firstDarkSection,start:"top top",toggleActions:"play none none reverse"}}),$(window).innerWidth()>breakpoints_phone&&navMenu.addClass("active"),ScrollTrigger.addEventListener("scrollStart",()=>{$(window).innerWidth()<=breakpoints_phone&&hideMenu("active")}),$(window).resize((function(){$(window).innerWidth()>=breakpoints_phone?(ScrollTrigger.removeEventListener("scrollStart",hideMenu,"active"),bringMenu("top")):(ScrollTrigger.removeEventListener("scrollStart",hideMenu,"active"),ScrollTrigger.addEventListener("scrollStart",hideMenu,"active"))})),collageElement=$(".collage > div"),$(".collage-wrapper").mousemove((function(e){var amount=-5,difference=-10;$(this).find(".collage div").each((function(){amount+=-10,parallaxIt(e,$(this),amount)}))}));var randomPosRatio=20,bannerDisplayLong=2,bannerChangeTime="-=1",runCollage=_target=>{var changeLayerPos=()=>{$(".banner").css({"z-index":"-1"}),_target.css({"z-index":"1"})},collage=_target.find(".collage > div"),text=_target.find(".wrapper"),_timeline;return gsap.timeline({repeat:1,repeatDelay:2,yoyo:!0}).fromTo(collage,{opacity:0,x:gra(-20,20),y:gra(-20/3,20/3)},{x:0,y:0,opacity:1,stagger:-.08,ease:"circ.out",duration:.4,delay:-1,onStart:changeLayerPos}).fromTo(text,{opacity:0},{opacity:1,stagger:.4,ease:"circ.inOut",delay:-.8,duration:.8})},master=gsap.timeline({repeat:-1}).add(runCollage($(".banner").eq(0)),"-=1").add(runCollage($(".banner").eq(1)),"-=1").add(runCollage($(".banner").eq(2)),"-=1").add(runCollage($(".banner").eq(3)),"-=1"),company=$(".company"),companyResponsive=$(".tab-slider"),contentSlider=$(".content-slider");company.addClass("hoverEffects"),company.click((function(){company.removeClass("hoverEffects")})),companyResponsive.slick({slidesToShow:1,infinite:!0,arrows:!1,draggable:!1,swipeToSlide:!1,swipe:!1,fade:!0,dots:!1}),$(".light-bulbs ").on("click",".bulb",(function(){$(".bulb").removeClass("active"),$(this).addClass("active"),companyResponsive.slick("slickGoTo",$(this).index())})),contentSlider.slick({slidesToShow:1,infinite:!0,arrows:!1,dots:!1,draggable:!1,autoplay:!0,speed:500,autoplaySpeed:2e3,variableWidth:!0}),company.on("click",(function(){company.removeClass("enlarge").addClass("flap"),$(this).removeClass("flap").addClass("enlarge"),contentSlider.slick("slickPause"),$(this).find(".content-slider").slick("slickPlay")}));var statValues=$(".statistics .value");gsap.from(statValues,{scrollTrigger:{trigger:statValues,toggleActions:"play none none none"},textContent:1,duration:2,ease:Power4.easeInOut,snap:{textContent:1},stagger:0}),$(".project-slider").slick({lazyLoad:"ondemand",slidesToShow:1,infinite:!0,arrows:!0,dots:!1,draggable:!0,autoplay:!0,speed:1e3,autoplaySpeed:2e3,responsive:[{breakpoint:576,settings:{slidesToShow:1,arrows:!0,dots:!1}}]}),$(".projects-list").slick({slidesToShow:1,infinite:!0,arrows:!1,draggable:!1,swipeToSlide:!1,swipe:!1,fade:!0,adaptiveHeight:!0,dots:!1}),$(".project-thumbnails").on("click",".thumbnail",(function(){$(".projects-list").slick("slickGoTo",$(this).index()),gsap.to(window,{scrollTo:"#Projects",duration:.5,ease:"expo.inOut"})})),$(".board-members").slick({slidesToShow:3,infinite:!0,arrows:!0,dots:!1,autoplay:!0,centerMode:!0,speed:2e3,autoplaySpeed:4e3,variableWidth:!0,responsive:[{breakpoint:576,settings:{slidesToShow:1,arrows:!1,dots:!0}}]})}));